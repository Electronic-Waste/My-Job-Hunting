# Databend面经

## 一面

自我介绍

问：Kubeflow Katib是做什么的？

答：Hypermeter tuning & NAS Search，然后讲了讲整个Kubeflow的Workflow...

问：最近那个项目在做什么？

我：（给他看Github Issue）云边场景下的AI框架中Volcano集成（然后转Google Doc）介绍Proposal

问：怎么和社区人员交流的？

我：（给他看KubeEdge Community Meeting文档）加Agenda，然后收集社区反馈

问：毕设项目中的CNI是怎么写的？

我：让Cilium完成IP分配、创建eth0等工作，我们写的CNI将veth pair一端插到Ovs网桥上，另外一端插到Pod的网络命名空间中，通过更改Ovs的流表来更改Pod之间的拓扑链接关系

问：写的CNI的具体流程？

我：主要是`cmdAdd`和`cmdDel`，分别完成Veth的增删操作

追问：有没有Route修改操作？

我：在我们的场景中没有，我们的路由由容器中的frr组建配置，支持ospf等路由协议，这和我们的业务场景有关

问：在量化用的是什么数据库？怎么搭建的？

我：用的是ClickHouse，然后讲了Kubernetes + ClickHouse Operator + ClickHouse + ZooKeeper，三主三从设计，从节点上做sharding，保证有一台机器故障之后仍然可以正常运行

追问：SSD怎么做RAID的？

我：甩给了运维，这是他们的本职工作，不能抢别人饭碗啊...

问：下面这段代码有什么问题？

```Golang
func main() {
    ch := make(chan int)
    ch <- 1
    fmt.Println(ch)
}
// 这段代码哪里有问题？
```

1. 没有close channel，如果没有close的话会阻塞住
2. Channel buffer没有设置大小，会导致线程阻塞（问题找到了，但是原因说不出来）

追问：平时开发的时候怎么检测有没有死锁？

我：我不知道啊，没用过（面试官说用race工具检测）

反问：公司主要做哪些产品？

反问：实习生进去之后干什么？

反问：公司产品的技术架构，是K8s+Databend吗？

反问：对面试的评价，我有哪些需要改进的地方？



## 二面

自我介绍（先用Github震场，然后实习/开源猛猛讲，面试官发出满意的声音）

问：怎么走上云原生这条路的？

我：说来话长，大三下Minik8s->暑期实验室实习->KubeCon 2023 Shanghai->毕设->量化实习->GSoC->LFX

问：你平时是怎么写proposal的？觉得最重要的是什么？

我：（打开Google Doc共享文档）首先，BackGround很重要，需要让即使不做这个方向的社区人员也能够听明白。然后，最好是有一张Workflow图，最好能说明现在做的和之前的方案有哪些区别，力求清晰明了。之后，写一些详细的实现方案，最好能把实现的逻辑在编码之前全都写出来。最后给他们看看（预期的）前后效果对比，放出结果，写一些user story，给他们直观的印象。（还展示了一下GSoC PPT，blabla聊了一大堆，问了他们内部的协作方式）

问：你觉得在过去的实习经历中，遇到过最棘手的事情是什么？

我：弄清楚用户需求和与人沟通：用户需求举了在邦戴搭数据库的例子，说好好思考能节省很多时间；沟通方面举了开源跨国协作的例子，顶着8小时时差，异步沟通对信息传递的准确性和简洁性有较高的要求

问：有没有看过什么比较有意思的论文

我：从谷歌的Borg论文和Omega论文扯到云原生，讲了云原生的发展历史和前世今生，发现面试官比我对这方面还感兴趣，没讲完他就打断我，开始大讲特讲，讲完自己的工作经历又激情评论云原生的发展趋势，留我一脸懵逼Orz（技术确实很强的样子）

问：（咳咳）下一个问题，你是怎么样学习新技术的，以及是怎么了解最新的趋势的？

我：第一个问题，Learning by doing，选一些好的项目做，多多参加开源/实习，另外也会看看书，比方说刚买的这本（举起《分布式机器学习模式》，面试官又发出满意的声音）。第二个问题，可以参加下每年的KubeCon，也可以加入到Community Call里面了解一下社区最近在推的东西

反问：用户最看重公司开发的哪些功能？

反问：实习生和成员分工的问题，部门架构？

反问：公司做了哪些开源工作？实习生有机会参与吗？

反问：是不是公司的云部门才是营收部门，数据库部门是成本部门？

反问：对面试的评价，我有哪些需要改进的地方？（面试官：没有，我觉得都很好）

反问：是不是已经OC了？待遇问题？